<div class="contenedor-main">
    <mat-card class="card-personajes" *ngFor="let personaje of personajes">
        <mat-card-header>
            <mat-card-title>{{ personaje.nombre }}</mat-card-title>
            <mat-card-subtitle>{{ personaje.especie }}</mat-card-subtitle>
        </mat-card-header>
        <img mat-card-image src="{{personaje.img}}" alt="imgPersonaje" class="personaje-img" />
        <mat-card-content>
            <ul class="lista-personajes">
                <li class="liIcono"><img class="vivoMuertoIcono" alt="iconoVivoMuerto" height="50px"
                        [appVivoMuerto]="personaje.estado"></li>
                <li class="liIcono"><img class="generoIcono" alt="iconoGenero" height="50px"
                        [appMostrarIconosGenero]="personaje.genero"></li>
                <li class="descripcion"><b>Descripción:</b> {{ personaje.mostrarDescripcion ? personaje.descripcion
                    : (personaje.descripcion | pipeDescripcion) }}</li>
            </ul>
        </mat-card-content>
        <mat-card-actions>
            <button mat-button (click)="miFuncion(personaje)">
                {{ personaje.mostrarDescripcion ? 'Leer menos' : 'Leer más' }}
            </button>
            <img class="crudIcono" src="{{borrar}}" alt="borrar" height="40px" (click)="borrarPersonaje(personaje)">

            <!-- Panel de edicion -->
            <mat-expansion-panel class="panel-edicion" hideToggle>
                <mat-expansion-panel-header>
                    <mat-panel-title (click)="editarPersonaje(personaje)">
                        <img class="crudIcono" src="{{editar}}" alt="editar" height="40px">
                    </mat-panel-title>
                </mat-expansion-panel-header>
                <form [formGroup]="formPersonajes" class="form-edicion" (ngSubmit)="enviarDatos()">
                    <pre>
                      {{ personaje | json }}
                    </pre>
                    <mat-form-field>
                        <mat-label>Nombre</mat-label>
                        <input matInput type="text" formControlName="nombre">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Estado</mat-label>
                        <input matInput type="text" formControlName="estado">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Especie</mat-label>
                        <input matInput type="text" formControlName="especie">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Ruta imagen</mat-label>
                        <input matInput type="text" formControlName="img">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Tipo</mat-label>
                        <input matInput type="text" formControlName="tipo">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Género</mat-label>
                        <input matInput type="text" formControlName="genero">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Origen</mat-label>
                        <input matInput type="text" formControlName="origen">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Descripción</mat-label>
                        <textarea matInput name="descripcion" formControlName="descripcion" cols="20"
                            rows="10"></textarea>
                    </mat-form-field>
                    <button mat-button type="button">Guardar</button>
                </form>
            </mat-expansion-panel>
        </mat-card-actions>
    </mat-card>
</div>